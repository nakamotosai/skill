---
description: 调试指令。激活调试模式以进行系统性的问题排查。
---

# /debug - 系统性问题排查

$ARGUMENTS

---

## 目的

此指令激活 **调试 (DEBUG)** 模式，用于对问题、错误或意外行为进行系统性调查。

---

## 行为

当 `/debug` 被触发时：

1. **收集信息**
   - 错误信息
   - 复现步骤
   - 预期 vs 实际行为
   - 最近的更改

2. **提出假设**
   - 列出可能的原因
   - 按可能性排序

3. **系统性调查**
   - 验证每个假设
   - 检查日志、数据流
   - 使用排除法

4. **修复与预防**
   - 应用修复
   - 解释根本原因
   - 添加预防措施

---

## 输出格式

```markdown
## 🔍 调试: [问题]

### 1. 症状
[发生了什么]

### 2. 收集到的信息
- 错误: `[error message]`
- 文件: `[filepath]`
- 行号: [line number]

### 3. 假设
1. ❓ [最可能的原因]
2. ❓ [第二种可能性]
3. ❓ [较不可能的原因]

### 4. 调查

**验证假设 1:**
[我检查了什么] → [结果]

**验证假设 2:**
[我检查了什么] → [结果]

### 5. 根本原因
🎯 **[解释为什么会发生这种情况]**

### 6. 修复
```[language]
// Before
[broken code]

// After
[fixed code]
```

### 7. 预防
🛡️ [未来如何预防此问题]
```

---

## 示例

```
/debug login not working
/debug API returns 500
/debug form doesn't submit
/debug data not saving
```

---

## 关键原则

- **先询问再假设** - 获取完整的错误上下文
- **验证假设** - 不要随机猜测
- **解释原因** - 不仅仅是修复
- **防止复发** - 添加测试、验证
