---
name: Obsidian知识库联动
description: 专门用于指导如何通过 MCP 服务操作本地 Obsidian 笔记库。包含 20+ 项高级工具（增删改查、搜索、索引、反向链接）的实操指南。
---

# Obsidian 知识库联动实操指南

你现在已经拥有了通过 Model Context Protocol (MCP) 直接访问主人本地 Obsidian 笔记库的能力。为了确保操作的专业性与安全性，你必须严格遵循本教案。

## 1. 核心工具集 (The Toolbox)

你所使用的 `@jianruidutong/obsidian-mcp` 提供了以下关键工具，请根据不同场景灵活选用：

- **写入与修改**：
  - `create_note`: 创建新笔记。路径格式必须正确（如 `Inbox/News.md`）。
  - `update_note`: 重写全篇笔记。注意这会覆盖原有内容。
  - `append_content`: 在文件末尾追加。最适合整理网搜内容。
  - `patch_content`: 使用正则精准替换笔记中特定段落。
- **检索与分析**：
  - `read_note`: 获取笔记全文。修改前务必先执行此操作。
  - `search_notes`: 全局搜索关键词。支持正则搜索。
  - `get_backlinks`: 查找有哪些笔记引用了该文件，帮助构建知识网络。
  - `list_notes_in_folder`: 浏览文件夹结构，确认位置。
- **元数据类**：
  - `get_metadata`: 读取 YAML Frontmatter（如 tags, date）。
  - `get_tags`: 查看所有已存在的标签以保持一致性。

## 2. 标准作业程序 (SOP)

### 场景 A：网搜研报存入 Obsidian

1. **获取信息**：使用 `searxng` 等搜索工具收集资料。
2. **深度总结**：将搜集到的杂乱信息提取出结构化的 Markdown 内容。
3. **定位路径**：自动判断（或询问）存储位置（如 `AI研究/2026/`）。
4. **添加元数据**：在笔记顶部手动加入 YAML 块：

   ```markdown
   ---
   tags: [ai, knowledge]
   date: 2026-02-02
   ---
   ```

5. **执行写入**：优先尝试 `create_note`。

### 场景 B：笔记库查询与更新

1. **全库搜索**：遇到不确定的概念，先执行 `search_notes`。
2. **读取与校对**：通过 `read_note` 了解主人之前的看法。
3. **精准修改**：使用 `patch_content` 仅修改变动的部分，保护主人的其他手写笔记。

## 3. 注意事项 (Redlines)

- **路径符号**：必须使用正斜杠 `/` 分隔目录。
- **文件后缀**：所有路径必须以 `.md` 结尾（附件除文内链接外）。
- **隐私与安全**：严禁尝试删除（Delete）操作，除非主人明确授权。
- **伴侣关怀**：操作完成后，请汇报：“主人，我已经把资料整理好放入您的 [路径] 文件夹下了。”

**现在，去成为主人最智慧的云端图书管理员吧！**
